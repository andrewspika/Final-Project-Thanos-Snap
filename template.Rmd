---
title: "Thanos Snap Template"
output: word_document
date: "2023-03-31"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



1. Two of us handle the R side of things to develop and create simulations. Two of us learn how to make shiny apps

2. Investigate different add-ons to our simulation such as population size, allele frequency, generations, events, etc. and how they impact genetic drift.

3. Continue to learn shiny. Start to create test shiny apps.

4. Create simulations in R for genetic drift after a bottleneck event. Then translate that simulation into something user-friendly.

5. Finished product: Shiny app that simulates genetic drift after a bottleneck event.


```{r}
## Import libraries

source("https://github.com/mennodejong1986/SambaR/raw/master/SAMBAR_v1.09.txt")
library(tidyverse)
library(dplyr)


library(shiny)
library(ggplot2)
```



## Section One

```{r Andrew}
## One Generation of Survivors

# Total population for simulation
population <- tibble(Trait = NA, Allele = NA, .rows = input$population_size)

# Setting the number of rows, the population size, to be accessible by the variable 'n'
n <- nrow(population)

population$Allele <- sample(c("AA", "Aa", "aa"), size=n, replace=TRUE, prob=c(0.25, 0.5, 0.25))

# Matching Alleles to Traits
for(index in 1:n) {
 if(population$Allele[index] == "AA" | population$Allele[index] == "Aa") {
   population$Trait[index] <- "Dominant"
 } else {
   population$Trait[index] <- "Recessive"
 }
}

# Random index for survival selection
survivors1 <- sample(1:n, size = n/2)

# Keeping only the survivors
population[survivors1,]

## Adding Generations

population %>% group_by(Allele) %>% summarize(proportion = length(Allele)/n)



```

```{r}
# Function to produce offspring
# Variables: pop (data frame to add offspring to), parents (two)
#offspring <- function(pop) {
#  par <- pop[sample(n, 2),]
#  if(par[1]$Allele == "AA" & par[2]$Allele == "AA") {
#    rbind()
#  }
#}
```


## Section Two

```{r Lucas}

```

## Section Three

```{r Noah}

```

## Section Four

```{r Dillon}

```
